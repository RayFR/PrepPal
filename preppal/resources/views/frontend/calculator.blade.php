<!--
  Students & IDs: Agraj Khanna (240195519) / Gurpreet Singh Sidhu ()
  File: calculator.html
  Description: Personalised calorie & macro calculator with PrepPal plan recommendation
  Date: Nov 2025
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PrepPal ‚Ä¢ Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
 <header class="nav">
  <div class="container nav-inner">
    <a class="brand" href="index.html"><span class="brand-badge"></span></a>
    <nav class="nav-links">
  <a href="index.html">Home</a>
  <a href="calculator.html" class="active">Calculator</a>
  <a href="store.html">Meals</a>

  <a href="admin.html" class="nav-admin-only">Admin Home</a>
  <a href="dashboard.html" class="nav-admin-only">Dashboard</a>

  <span id="cartDisplay">Cart (0)</span>
  <button id="themeToggle" type="button" class="theme-toggle" aria-label="Toggle theme">‚òÄÔ∏è
</button>
  <a class="cta" href="login.html" id="authButton">Sign In</a>
</nav>
  </div>
</header>


  <!-- Mini cart panel (same as other pages) -->
  <div id="cartPanel" class="cart-panel" aria-hidden="true">
    <h3>Your Cart</h3>
    <p id="cartSummary">You have 0 items in your cart.</p>

    <ul id="cartItems" class="cart-items"></ul>

    <p id="cartTotal" class="cart-total">Total: ¬£0.00</p>

    <div class="cart-actions">
      <button type="button" class="cart-btn cart-clear">Clear Cart</button>
      <button type="button" class="cart-btn cart-checkout">Checkout</button>
      <button type="button" class="cart-btn cart-close">Close</button>
    </div>
  </div>

  <main class="container main-content">
    <section class="hero small-hero">
      <div class="hero-text">
        <h1>Find Your Perfect PrepPal Plan</h1>
        <p>Enter your details to see your estimated calories, macros, and the plan we recommend.</p>
      </div>
    </section>

    <section class="card calorie-planner">
      <div class="calorie-header">
        <h2 style="margin-top:0;">Personalised Plan Calculator</h2>
        <p>
        This tool uses standard equations (Mifflin‚ÄìSt Jeor) to estimate your needs.
          It‚Äôs a guide only and not medical advice.
        </p>

        <div class="calorie-tag-row">
          <span class="pill pill-soft">Step 1 ¬∑ Your details</span>
          <span class="pill pill-soft">Step 2 ¬∑ Targets</span>
          <span class="pill pill-soft">Step 3 ¬∑ PrepPal plan</span>
        </div>
      </div>

      <form id="calorieForm" class="calorie-form" autocomplete="off">
        <div class="calorie-grid">
          <div>
            <label for="age">Age</label>
            <input id="age" name="age" type="number" min="16" max="90" required placeholder="Years" />
          </div>

          <div>
            <label for="sex">Sex</label>
            <select id="sex" name="sex" required>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>

          <div>
            <label for="height">Height (cm)</label>
            <input id="height" name="height" type="number" min="130" max="220" required placeholder="e.g. 175" />
          </div>

          <div>
            <label for="weight">Weight (kg)</label>
            <input id="weight" name="weight" type="number" min="40" max="200" required placeholder="e.g. 75" />
          </div>

          <div>
            <label for="activity">Activity level</label>
            <select id="activity" name="activity" required>
              <option value="sedentary">Sedentary (office / little exercise)</option>
              <option value="light">Lightly active (1‚Äì3x per week)</option>
              <option value="moderate">Moderately active (3‚Äì5x per week)</option>
              <option value="very">Very active (6‚Äì7x per week)</option>
            </select>
          </div>

          <div>
            <label for="goal">Goal</label>
            <select id="goal" name="goal" required>
              <option value="loss">Lose fat</option>
              <option value="muscle">Gain muscle</option>
              <option value="maintain">Maintain weight</option>
              <option value="fibre">Higher fibre / health</option>
            </select>
          </div>
        </div>

        <button type="submit" class="cta primary-cta" style="margin-top:1rem;">
          üîç Calculate my plan
        </button>
      </form>

      <div id="calorieResults" class="calorie-results" aria-live="polite">
        <!-- TOP ROW: ring + summary text -->
        <div class="calorie-summary">
          <div class="calorie-ring">
            <div class="ring-graphic">
              <div class="ring-inner">
                <span id="ringCalories">0</span>
                <small>kcal / day</small>
              </div>
            </div>
            <p class="ring-caption">Estimated target</p>
          </div>

          <div class="summary-text">
            <h3>Your daily target</h3>
            <p id="calorieResultText">
              Enter your details above to see your estimate.
            </p>
          </div>
        </div>

        <!-- MACRO CARDS -->
        <ul id="macroResultList" class="macro-list">
          <li>
            <strong>Calories</strong>
            <span>‚Äì</span>
          </li>
          <li>
            <strong>Protein</strong>
            <span>‚Äì</span>
          </li>
          <li>
            <strong>Carbs</strong>
            <span>‚Äì</span>
          </li>
          <li>
            <strong>Fats</strong>
            <span>‚Äì</span>
          </li>
        </ul>

        <!-- PLAN RECOMMENDATION -->
        <p id="caloriePlanOutput" class="plan-card">
          <strong>Recommended PrepPal plan:</strong> ‚Äì
        </p>

        <!-- Hooks into global cart system -->
        <a
          href="#"
          id="recommendedPlanAdd"
          class="cta add-to-cart plan-add-btn"
          data-name=""
          data-price=""
          data-image=""
          style="display:none; margin-top:.5rem;"
        >
          Add recommended plan to cart
        </a>
      </div>
    </section>

    <section class="card" style="margin-top:2rem;">
      <h2 style="margin-top:0;">Next step: choose your meals</h2>
      <p>
        Once you‚Äôre happy with your target, head to the PrepPal store to see all our
        <strong>meal prep plans</strong> and <strong>supplements</strong>.
        Anything you add from the calculator will already be waiting in your cart.
      </p>
      <a href="store.html" class="cta">Go to Meals &amp; Supplements</a>
    </section>

    <footer class="footer">
      <div class="container">¬© <span id="year"></span> PrepPal ‚Äî Eat better, live easier.</div>
    </footer>
  </main>

  <script src="js/app.js"></script>
  <script src="js/store.js"></script>
</body>
</html>
